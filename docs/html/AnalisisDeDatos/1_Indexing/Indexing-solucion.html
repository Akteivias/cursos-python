
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tabla de Contenidos &#8212; Inteligencia Artificial Moderna</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logohumai.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Inteligencia Artificial Moderna</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro.html">
   Inteligencia Artificial Moderna
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Introduccion a la Programación con Python
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/README.html">
   1. Introducción a Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/1_TiposDatos/tipos-datos.html">
   2. Introducción a la programación con Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/1_TiposDatos/ejercicio/ejercicios.html">
   7. Ejercicios I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/2_Listas_Y_Funciones/listas-funciones.html">
   8. Listas, Funciones, Errores
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/2_Listas_Y_Funciones/ejercicio/ejercicio.html">
   16. Ejercicios II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/2_Listas_Y_Funciones/ejercicio/adicionales.html">
   17. Ejercicios Adicionales II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/4_Intro_Poo/intro-poo.html">
   18. Programación orientada a objetos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/4_Intro_Poo/ejercicio/ejercicio.html">
   19. Ejercicios POO IV
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/5_Poo_Experimento/poo-experimento.html">
   20. Aplicación de POO: Experimento de Tiempo de Reacción
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/6_Poo_Proyecto/poo-proyecto.html">
   21. Aplicación de POO: PACMAN
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Automatización
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/README.html">
   22. Automatización y Minería Web
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Automatizaci%C3%B3n_I/automatizacion_pygui_bash_os.html">
   23. Automatización:
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Automatizaci%C3%B3n_2/clase_automatizacion_2_gsheets_cron_mails.html">
   25. Automatización II: outputs, envío de mail, volcado a GSheets, scheduling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Automatizaci%C3%B3n_2/clase_automatizacion_2_ejercicios.html">
   26. Ejercicios Automatización II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Expresiones_Regulares/expresiones_regulares.html">
   27. Expresiones Regulares
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Otros/gsheets_pytrends.html">
   28. Práctica: GSheet y PyTrends
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Otros/organizando_pdfs.html">
   29. Ejercicio: Organizando PDFs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Otros/edicion_imagenes.html">
   30. Edición de Imágenes con Python
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Minería Web
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/README.html">
   33. Minería Web con Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/1_HTTP_Inicial/web_scraping_http_inicial.html">
   34. Web Scraping: Extrayendo datos de Internet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/1_HTTP_Inicial/ejercicio/spinetta.html">
   35. Descargar letras de canciones
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/2_HTTP_Avanzado/scraping_http_avanzado.html">
   36. Encontrando APIs ocultas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/2_HTTP_Avanzado/scraping_avanzado_2.html">
   40. Práctica: Scraping Avanzado 2:
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/2_HTTP_Avanzado/ejercicio/apis-ocultas.html">
   42. Argenprop
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/2_HTTP_Avanzado/scraping_extra_tips.html">
   44. Tips para scrapear mejor
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/3_Selenium_y_xpath/scraping_por_automatizacion.html">
   45. Scraping por Automatización con Selenium
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  APIs
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../APIs/README.html">
   46. APIs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../APIs/1_APIs_Geograficas/clase-1.html">
   47. APIs geográficas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../APIs/1_APIs_Geograficas/clase-1-ejercicios.html">
   48. APIs Geográficas: Ejercicios
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../APIs/2_APIs_Series_Tiempo/clase-2.html">
   49. APIs de Series de Tiempo
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../APIs/2_APIs_Series_Tiempo/ejercicios/ejercicios.html">
   50. APIs Series de Tiempo: Ejercicios
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Análisis de Datos
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../README.html">
   51. Analisis de datos con Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Indexing.html">
   57. Tabla de Contenidos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../2_Pivot_Table_y_Joins/clase-2.html">
   63. Clase 2: Pivot tables y joins
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../2_Pivot_Table_y_Joins/clase-2-ejercicios.html">
   64. Clase 2: ejercicios prácticos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../3_Agrupacion_y_Agregacion/agrupacion_agregacion.html">
   65. Agrupación y agregación
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../4_Data_Wrangling_Avanzado/data_wrangling_avanzado.html">
   68. Data Wrangling Avanzado
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../4_Data_Wrangling_Avanzado/ejercicio/ejercicio.html">
   71. Ejercicio: Informe macroeconómico de Argentina
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../5_Visualizacion/Visualizacion.html">
   73. Visualización con Pandas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../5_Visualizacion/Visualizacion_Pandas.html">
   74. Visualización con Pandas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../5_Visualizacion/Visualizacion_Plotly.html">
   75. Visualizaciones avanzadas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../5_Visualizacion/Ejercitacion/Ejercitacion_Extra.html">
   76. Ejercicios extra visualización
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Colaboración
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../General/0_Colaboracion/Guia%20para%20armar%20contenido.html">
   78. Generando contenido
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/AnalisisDeDatos/1_Indexing/Indexing-solucion.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/institutohumai/cursos-python"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/institutohumai/cursos-python/issues/new?title=Issue%20on%20page%20%2FAnalisisDeDatos/1_Indexing/Indexing-solucion.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/institutohumai/cursos-python/libro?urlpath=tree/docs/AnalisisDeDatos/1_Indexing/Indexing-solucion.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Tabla de Contenidos
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exploracion">
   Exploración
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#para-leer-el-data-set-usamos-la-funcion-de-pandas-read-csv">
     1- Para leer el data set usamos la función de pandas read_csv
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#consultamos-las-columnas">
     2- Consultamos las columnas
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extraemos-una-muestra">
     3- Extraemos una muestra
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#consultamos-la-cantidad-de-filas-y-de-columnas">
     4- Consultamos la cantidad de filas y de columnas
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#vectorizacion-con-pandas">
   Vectorización con Pandas
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#los-objetos-fundamentales-de-pandas">
   Los objetos fundamentales de Pandas
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#series">
     Series
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dataframes">
     DataFrames
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#indices">
     Índices
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#filtrando-un-dataframe-indexing">
     Filtrando un DataFrame (Indexing)
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#boolean-indexing">
       Boolean Indexing
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#mascara-booleana">
         Máscara booleana
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#mascara-booleana-con-muchas-condiciones">
         Máscara booleana con muchas condiciones
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#boolean-indexing-con-query">
       Boolean indexing con query()
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#fancy-indexing">
       Fancy Indexing
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#funciones-de-agregacion">
     Funciones de Agregación
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#otros-analisis-descriptivos">
   Otros análisis descriptivos
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#para-las-variables-numericas">
     Para las variables numéricas
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#para-las-variables-categoricas">
     Para las variables categóricas
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ejercicio-volviendo-al-ejemplo-del-titanic">
       Ejercicio: Volviendo al ejemplo del Titanic:
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ordenar-por-columnas-y-limitar-la-cantidad-de-resultados">
     Ordenar por columnas y limitar la cantidad de resultados
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anexo-volviendo-al-tema-de-la-vectorizacion">
   Anexo: volviendo al tema de la vectorización
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Tabla de Contenidos</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Tabla de Contenidos
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exploracion">
   Exploración
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#para-leer-el-data-set-usamos-la-funcion-de-pandas-read-csv">
     1- Para leer el data set usamos la función de pandas read_csv
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#consultamos-las-columnas">
     2- Consultamos las columnas
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extraemos-una-muestra">
     3- Extraemos una muestra
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#consultamos-la-cantidad-de-filas-y-de-columnas">
     4- Consultamos la cantidad de filas y de columnas
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#vectorizacion-con-pandas">
   Vectorización con Pandas
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#los-objetos-fundamentales-de-pandas">
   Los objetos fundamentales de Pandas
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#series">
     Series
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dataframes">
     DataFrames
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#indices">
     Índices
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#filtrando-un-dataframe-indexing">
     Filtrando un DataFrame (Indexing)
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#boolean-indexing">
       Boolean Indexing
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#mascara-booleana">
         Máscara booleana
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#mascara-booleana-con-muchas-condiciones">
         Máscara booleana con muchas condiciones
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#boolean-indexing-con-query">
       Boolean indexing con query()
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#fancy-indexing">
       Fancy Indexing
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#funciones-de-agregacion">
     Funciones de Agregación
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#otros-analisis-descriptivos">
   Otros análisis descriptivos
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#para-las-variables-numericas">
     Para las variables numéricas
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#para-las-variables-categoricas">
     Para las variables categóricas
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ejercicio-volviendo-al-ejemplo-del-titanic">
       Ejercicio: Volviendo al ejemplo del Titanic:
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ordenar-por-columnas-y-limitar-la-cantidad-de-resultados">
     Ordenar por columnas y limitar la cantidad de resultados
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anexo-volviendo-al-tema-de-la-vectorizacion">
   Anexo: volviendo al tema de la vectorización
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <p><a href="https://colab.research.google.com/github/institutohumai/cursos-python/blob/master/AnalisisDeDatos/1_Indexing/Indexing-solucion.ipynb"> <img src='https://colab.research.google.com/assets/colab-badge.svg' /> </a></p>
<div align="center"> Recordá abrir en una nueva pestaña </div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Siempre al principio, importamos las librerías.</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="tabla-de-contenidos">
<h1>Tabla de Contenidos<a class="headerlink" href="#tabla-de-contenidos" title="Permalink to this headline">¶</a></h1>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>I. Análisis de datos con Pandas
II. Los objetos fundamentales de Pandas
    I. Series
    II. DataFrames
    III. Índices
III. Exploración
    I. Filtrando un DataFrame (Indexing)
        I. Boolean Indexing
            I. Máscara booleana
            II. Máscara booleana con muchas condiciones
        II. Boolean indexing con query()
        III. Fancy Indexing
    II. Funciones de Agregación
IV. Otros análisis descriptivos
    I. Para las variables numéricas
    II. Para las variables categóricas
    III. Ordenar por columnas y limitar la cantidad de resultados
V. Anexo: volviendo al tema de la vectorización
</pre></div>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="exploracion">
<h1>Exploración<a class="headerlink" href="#exploracion" title="Permalink to this headline">¶</a></h1>
<p>Vamos a analizar datos de una fuente real. Los ingresos de los funcionarios son información pública que se libera anualmente en el <a href='https://data.buenosaires.gob.ar/dataset/sueldo-funcionarios'>portal de datos abiertos</a> de GCBA.</p>
<p>En general los 4 primeros pasos para analizar un data set son:</p>
<ol class="simple">
<li><p>Leerlo</p></li>
<li><p>Consultar cuáles son las columnas</p></li>
<li><p>Extraer una muestra</p></li>
<li><p>Verificar cuántos registros tiene</p></li>
</ol>
<div class="section" id="para-leer-el-data-set-usamos-la-funcion-de-pandas-read-csv">
<h2>1- Para leer el data set usamos la función de pandas read_csv<a class="headerlink" href="#para-leer-el-data-set-usamos-la-funcion-de-pandas-read-csv" title="Permalink to this headline">¶</a></h2>
<p>Con esta función podemos leer archivos que estén en una url pública o en una ubicación del disco accesible desde la Jupyter Notebook.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;http://cdn.buenosaires.gob.ar/datosabiertos/datasets/sueldo-funcionarios/sueldo_funcionarios_2019.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="consultamos-las-columnas">
<h2>2- Consultamos las columnas<a class="headerlink" href="#consultamos-las-columnas" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;cuil&#39;, &#39;anio&#39;, &#39;mes&#39;, &#39;funcionario_apellido&#39;, &#39;funcionario_nombre&#39;,
       &#39;reparticion&#39;, &#39;asignacion_por_cargo_i&#39;, &#39;aguinaldo_ii&#39;,
       &#39;total_salario_bruto_i_+_ii&#39;, &#39;observaciones&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="extraemos-una-muestra">
<h2>3- Extraemos una muestra<a class="headerlink" href="#extraemos-una-muestra" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cuil</th>
      <th>anio</th>
      <th>mes</th>
      <th>funcionario_apellido</th>
      <th>funcionario_nombre</th>
      <th>reparticion</th>
      <th>asignacion_por_cargo_i</th>
      <th>aguinaldo_ii</th>
      <th>total_salario_bruto_i_+_ii</th>
      <th>observaciones</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>332</th>
      <td>20-22293622-6</td>
      <td>2019</td>
      <td>11</td>
      <td>FERNANDEZ</td>
      <td>DIEGO HERNAN</td>
      <td>SECR Integración Social y Urbana</td>
      <td>249972.87</td>
      <td>0.0</td>
      <td>249972.87</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>309</th>
      <td>20-25567686-6</td>
      <td>2019</td>
      <td>10</td>
      <td>BENEGAS</td>
      <td>FERNANDO</td>
      <td>SECR Coordinación General</td>
      <td>249972.87</td>
      <td>0.0</td>
      <td>249972.87</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>205</th>
      <td>20-29751476-9</td>
      <td>2019</td>
      <td>7</td>
      <td>CARRILLO</td>
      <td>FACUNDO</td>
      <td>SECR Atención y Gestión Ciudadana</td>
      <td>239470.36</td>
      <td>0.0</td>
      <td>239470.36</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>253</th>
      <td>20-13872301-2</td>
      <td>2019</td>
      <td>9</td>
      <td>ASTARLOA</td>
      <td>GABRIEL MARIA</td>
      <td>Procuración General de la Ciudad de Buenos Aires</td>
      <td>275089.75</td>
      <td>0.0</td>
      <td>275089.75</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>92</th>
      <td>20-25567686-6</td>
      <td>2019</td>
      <td>3</td>
      <td>BENEGAS</td>
      <td>FERNANDO</td>
      <td>SECR Coordinación General</td>
      <td>210061.14</td>
      <td>0.0</td>
      <td>210061.14</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="consultamos-la-cantidad-de-filas-y-de-columnas">
<h2>4- Consultamos la cantidad de filas y de columnas<a class="headerlink" href="#consultamos-la-cantidad-de-filas-y-de-columnas" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># La propiedad shape nos devuelve una tupla (filas,columnas)</span>
<span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(385, 10)
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="vectorizacion-con-pandas">
<h1>Vectorización con Pandas<a class="headerlink" href="#vectorizacion-con-pandas" title="Permalink to this headline">¶</a></h1>
<p>Pandas es una de las librerías de Python más usadas para análisis de datos. El nombre pandas viene de “Panel Data Analysis” y su funcionalidad permite hacer operaciones sobre datos que se encuentran en memoria de manera eficiente.</p>
<p>Pandas es útil para trabajar sobre datos tabulares, con dos condiciones importantes:</p>
<p>I. Los datos se encuentran enteramente en la memoria RAM. Con lo cual, el tamaño de los datos que podemos manipular está limitado por el hardware. Como regla de pulgar, es una buena práctica no ocupar más de 1/3 de la memoria RAM de nuestro dispositivo con el dataset. Así, si estamos trabajando localmente en una notebook con 8GB de memoria RAM no es recomendable procesar datasets de más de 2.33GB.</p>
<p>II. En pandas, las operaciones sobre filas y columnas son, en general, eficientes porque se hacen de forma “vectorizada”. En realidad esta optimización, se hace desde numpy, una librería para realizar operaciones matemáticas que se utilizó a su vez para escribir pandas.</p>
<p>Las operaciones vectorizadas son las que se realizan en bloque en vez de caso por caso. Las computadoras de hoy tienen la capacidad de recibir muchas instrucciones juntas y procesar varias de ellas a la vez. Por ejemplo, si nuestro hardware tiene la capacidad de procesar 4 operaciones juntas, el resultado de vectorizar una operación matemática es el siguiente:</p>
<img src = 'https://datasets-humai.s3.amazonaws.com/images/vectorizacion.png' /> 
<p>En el primer caso hay que hacer 5 operaciones y en el segundo caso sólo dos.</p>
<p>Es importante entender, entonces, que Pandas trabaja de esta manera y que por eso es una de las herramientas más elegidas para manipular datos en memoria.</p>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="los-objetos-fundamentales-de-pandas">
<h1>Los objetos fundamentales de Pandas<a class="headerlink" href="#los-objetos-fundamentales-de-pandas" title="Permalink to this headline">¶</a></h1>
<div class="section" id="series">
<h2>Series<a class="headerlink" href="#series" title="Permalink to this headline">¶</a></h2>
<p>Las series son “columnas” que de una tabla que están asociadas a un índice y a un nombre. Igual que una lista común de Python es una secuencia de elementos ordenados, pero a diferencia de la lista está asociada a más información.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Las series se pueden crear a partir de una lista</span>
<span class="n">serie</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Propiedades importantes de las series</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Tipo de objetos que tiene &#39;</span><span class="p">,</span> <span class="n">serie</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Nombre &#39;</span><span class="p">,</span> <span class="n">serie</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Index &#39;</span><span class="p">,</span><span class="n">serie</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Valores &#39;</span><span class="p">,</span><span class="n">serie</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tipo de objetos que tiene  object
Nombre  None
Index  RangeIndex(start=0, stop=3, step=1)
Valores  [&#39;a&#39; &#39;b&#39; &#39;c&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="dataframes">
<h2>DataFrames<a class="headerlink" href="#dataframes" title="Permalink to this headline">¶</a></h2>
<p>Los DataFrames son “tablas”, compuestas por varias “columnas” o series que comparten todas un mismo índice. En general los DataFrames se crean a partir de leer tablas de archivos (pueden ser en formato json o csv) pero a veces también se crean a partir de listas de diccionarios o de otras maneras.</p>
<p>Los DataFrames tienen un objeto Index que describe los nombres de columnas y otro objeto Index que describen los nombres de las filas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Leemos un dataset público</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;http://cdn.buenosaires.gob.ar/datosabiertos/datasets/sueldo-funcionarios/sueldo_funcionarios_2019.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Propiedades importantes de los dataframes</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Columnas &#39;</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Index &#39;</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Dimensiones &#39;</span><span class="p">,</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Columnas  Index([&#39;cuil&#39;, &#39;anio&#39;, &#39;mes&#39;, &#39;funcionario_apellido&#39;, &#39;funcionario_nombre&#39;,
       &#39;reparticion&#39;, &#39;asignacion_por_cargo_i&#39;, &#39;aguinaldo_ii&#39;,
       &#39;total_salario_bruto_i_+_ii&#39;, &#39;observaciones&#39;],
      dtype=&#39;object&#39;)
Index  RangeIndex(start=0, stop=385, step=1)
Dimensiones  (385, 10)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Consultar las primeras filas</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cuil</th>
      <th>anio</th>
      <th>mes</th>
      <th>funcionario_apellido</th>
      <th>funcionario_nombre</th>
      <th>reparticion</th>
      <th>asignacion_por_cargo_i</th>
      <th>aguinaldo_ii</th>
      <th>total_salario_bruto_i_+_ii</th>
      <th>observaciones</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>20-17692128-6</td>
      <td>2019</td>
      <td>1</td>
      <td>RODRIGUEZ LARRETA</td>
      <td>HORACIO ANTONIO</td>
      <td>Jefe de Gobierno</td>
      <td>197745.80</td>
      <td>0.0</td>
      <td>197745.80</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>20-17735449-0</td>
      <td>2019</td>
      <td>1</td>
      <td>SANTILLI</td>
      <td>DIEGO CESAR</td>
      <td>Vicejefatura de Gobierno</td>
      <td>197745.80</td>
      <td>0.0</td>
      <td>197745.80</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>27-24483014-0</td>
      <td>2019</td>
      <td>1</td>
      <td>ACUÑA</td>
      <td>MARIA SOLEDAD</td>
      <td>Ministerio de Educación e Innovación</td>
      <td>224516.62</td>
      <td>0.0</td>
      <td>224516.62</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>20-13872301-2</td>
      <td>2019</td>
      <td>1</td>
      <td>ASTARLOA</td>
      <td>GABRIEL MARIA</td>
      <td>Procuración General de la Ciudad de Buenos Aires</td>
      <td>224516.62</td>
      <td>0.0</td>
      <td>224516.62</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>20-25641207-2</td>
      <td>2019</td>
      <td>1</td>
      <td>AVOGADRO</td>
      <td>ENRIQUE LUIS</td>
      <td>Ministerio de Cultura</td>
      <td>224516.62</td>
      <td>0.0</td>
      <td>224516.62</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Si queremos extraer una serie del DataFrame, podemos hacerlo de la misma forma en que extraemos un valor de un diccionario.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">serie_mes</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;mes&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">serie_mes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pandas.core.series.Series
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="indices">
<h2>Índices<a class="headerlink" href="#indices" title="Permalink to this headline">¶</a></h2>
<p>Los índices acompañan a las series y a los Data Frames. Son conjuntos ordenados e inmutables de elementos</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RangeIndex(start=0, stop=385, step=1)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;cuil&#39;, &#39;anio&#39;, &#39;mes&#39;, &#39;funcionario_apellido&#39;, &#39;funcionario_nombre&#39;,
       &#39;reparticion&#39;, &#39;asignacion_por_cargo_i&#39;, &#39;aguinaldo_ii&#39;,
       &#39;total_salario_bruto_i_+_ii&#39;, &#39;observaciones&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ind</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">])</span>
<span class="n">ind</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Int64Index([2, 3, 5, 7, 11], dtype=&#39;int64&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ind</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">16</span><span class="o">-</span><span class="mi">906</span><span class="n">a9fa1424c</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">ind</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

<span class="nn">~/anaconda3/envs/python3/lib/python3.6/site-packages/pandas/core/indexes/base.py</span> in <span class="ni">__setitem__</span><span class="nt">(self, key, value)</span>
<span class="g g-Whitespace">   </span><span class="mi">3908</span> 
<span class="g g-Whitespace">   </span><span class="mi">3909</span>     <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="ne">-&gt; </span><span class="mi">3910</span>         <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Index does not support mutable operations&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3911</span> 
<span class="g g-Whitespace">   </span><span class="mi">3912</span>     <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>

<span class="ne">TypeError</span>: Index does not support mutable operations
</pre></div>
</div>
</div>
</div>
<p>Ejercicio: exploren el dataset público que se encuentra en la siguiente url: <a class="reference external" href="https://datasets-humai.s3.amazonaws.com/datasets/titanic.csv">https://datasets-humai.s3.amazonaws.com/datasets/titanic.csv</a> ¿De qué se trata? ¿Cuántas filas tiene? ¿Cuántas columnas? Al leerlo, pueden almacenarlo en la variable df_titanic.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://datasets-humai.s3.amazonaws.com/datasets/titanic.csv&#39;</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s1">&#39;|&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PassengerId</th>
      <th>Survived</th>
      <th>Pclass</th>
      <th>Name</th>
      <th>Sex</th>
      <th>Age</th>
      <th>SibSp</th>
      <th>Parch</th>
      <th>Ticket</th>
      <th>Fare</th>
      <th>Cabin</th>
      <th>Embarked</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>301</th>
      <td>302</td>
      <td>1</td>
      <td>3</td>
      <td>McCoy, Mr. Bernard</td>
      <td>male</td>
      <td>NaN</td>
      <td>2</td>
      <td>0</td>
      <td>367226</td>
      <td>23.2500</td>
      <td>NaN</td>
      <td>Q</td>
    </tr>
    <tr>
      <th>243</th>
      <td>244</td>
      <td>0</td>
      <td>3</td>
      <td>Maenpaa, Mr. Matti Alexanteri</td>
      <td>male</td>
      <td>22.0</td>
      <td>0</td>
      <td>0</td>
      <td>STON/O 2. 3101275</td>
      <td>7.1250</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>404</th>
      <td>405</td>
      <td>0</td>
      <td>3</td>
      <td>Oreskovic, Miss. Marija</td>
      <td>female</td>
      <td>20.0</td>
      <td>0</td>
      <td>0</td>
      <td>315096</td>
      <td>8.6625</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>424</th>
      <td>425</td>
      <td>0</td>
      <td>3</td>
      <td>Rosblom, Mr. Viktor Richard</td>
      <td>male</td>
      <td>18.0</td>
      <td>1</td>
      <td>1</td>
      <td>370129</td>
      <td>20.2125</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>447</th>
      <td>448</td>
      <td>1</td>
      <td>1</td>
      <td>Seward, Mr. Frederic Kimber</td>
      <td>male</td>
      <td>34.0</td>
      <td>0</td>
      <td>0</td>
      <td>113794</td>
      <td>26.5500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(891, 12)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="filtrando-un-dataframe-indexing">
<h2>Filtrando un DataFrame (Indexing)<a class="headerlink" href="#filtrando-un-dataframe-indexing" title="Permalink to this headline">¶</a></h2>
<p>Hay muchas técnicas para filtrar un DataFrame. Podemos querer filtrar por columnas o por filas, por posición o por nombre. También podemos querer filtrar por condiciones que se cumplen o no. Cuando no queremos filtrar sobre una dimensión (filas o columnas) usamos “:” para seleccionar todo.</p>
<img src='img/indexing.png' style='height:350px' />
<div class="section" id="boolean-indexing">
<h3>Boolean Indexing<a class="headerlink" href="#boolean-indexing" title="Permalink to this headline">¶</a></h3>
<p>Supongamos que queremos tomar el dataset de funcionarios y quedarnos únicamente con los que pertenecen al Ministerio de Cultura.
Para eso lo que hacemos es indexar al DataFrame por una condición booleana. Eso implica que debemos crear una serie compuesta por valores True y False para aplicarla como índice a las filas.</p>
<p>Los operadores que sirven para evaluar condiciones sobre las series son:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>S</p></th>
<th class="head"><p>Descripción</p></th>
<th class="head"><p>S</p></th>
<th class="head"><p>Descripción</p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>&gt;=</p></td>
<td><p>Mayor o Igual</p></td>
<td><p>&lt;=</p></td>
<td><p>Menor o Igual</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>==</p></td>
<td><p>Igual</p></td>
<td><p>!=</p></td>
<td><p>Distinto</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>&gt;</p></td>
<td><p>Mayor</p></td>
<td><p>&lt;</p></td>
<td><p>Menor</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<div class="section" id="mascara-booleana">
<h4>Máscara booleana<a class="headerlink" href="#mascara-booleana" title="Permalink to this headline">¶</a></h4>
<p>Veamos lo que pasa cuando le aplicamos a una serie una condición que devuelve un booleano</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;anio&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">2019</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0      False
1      False
2      False
3      False
4      False
       ...  
380    False
381    False
382    False
383    False
384    False
Name: anio, Length: 385, dtype: bool
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mascara_booleana</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;anio&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">2019</span>
</pre></div>
</div>
</div>
</div>
<p>Nos devuelve una serie de la misma longitud que la original y que contiene sólo valores True o False.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">mascara_booleana</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pandas.core.series.Series
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mascara_booleana</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(385,)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mascara_booleana</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dtype(&#39;bool&#39;)
</pre></div>
</div>
</div>
</div>
<p>Ahora seleccionemos entonces, los registros que corresponden al Ministerio de Cultura.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_min_cul</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;reparticion&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Ministerio de Cultura&#39;</span><span class="p">,:]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Veamos la cantidad de casos</span>
<span class="n">df_min_cul</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(12, 10)
</pre></div>
</div>
</div>
</div>
<p>Algo que puede llegar a confundir sobre el Indexing en Pandas es que en algunos casos se puede ser menos explícito a la hora de filtrar. Por ejemplo si ponemos una condición Booleana, pandas asume que el tipo de indexing es loc y que el filtro es sobre las filas y no sobre las columnas:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_min_cul</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;reparticion&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Ministerio de Cultura&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_min_cul</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(12, 10)
</pre></div>
</div>
</div>
</div>
<p>Probemos con otra condición.</p>
<p>Ejercicio1: Traer todos los sueldos de la segunda mitad del año…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Solución</span>
<span class="n">df_sem2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;mes&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Ejercicio 2: Volviendo al DataFrame del Titanic ¿Cuántos pasajeros sobrevivieron y cuántos no? ¿Cuántos pagaron una tarifa menor a 25?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://datasets-humai.s3.amazonaws.com/datasets/titanic.csv&#39;</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s1">&#39;|&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Solución </span>
<span class="n">df_titanic</span><span class="p">[</span><span class="n">df_titanic</span><span class="p">[</span><span class="s1">&#39;Survived&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(342, 12)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="p">[</span><span class="n">df_titanic</span><span class="p">[</span><span class="s1">&#39;Survived&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(549, 12)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="p">[</span><span class="n">df_titanic</span><span class="p">[</span><span class="s1">&#39;Fare&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">25</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(557, 12)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="mascara-booleana-con-muchas-condiciones">
<h4>Máscara booleana con muchas condiciones<a class="headerlink" href="#mascara-booleana-con-muchas-condiciones" title="Permalink to this headline">¶</a></h4>
<p>Ahora tratemos de filtrar el dataset por dos condiciones: por ejemplo tomar los sueldos de abril de la secretaria de innovación.
Para eso tenemos que combinar dos máscaras booleanas con una condición.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>S</p></th>
<th class="head"><p>Descripcion</p></th>
<th class="head"><p>S</p></th>
<th class="head"><p>Descripcion</p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>&amp;</p></td>
<td><p>AND (y)</p></td>
<td><p>|</p></td>
<td><p>OR (o)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>^</p></td>
<td><p>XOR (o exclusivo)</p></td>
<td><p>~</p></td>
<td><p>NOT (no)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p>Por ejemplo: seleccionemos los casos donde o bien se haya cobrado aguinaldo o bien el salario total haya sido mayor que 240.000, pero no las dos cosas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;total_salario_bruto_i_+_ii&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">240000</span><span class="p">)</span> <span class="o">^</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;aguinaldo_ii&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cuil</th>
      <th>anio</th>
      <th>mes</th>
      <th>funcionario_apellido</th>
      <th>funcionario_nombre</th>
      <th>reparticion</th>
      <th>asignacion_por_cargo_i</th>
      <th>aguinaldo_ii</th>
      <th>total_salario_bruto_i_+_ii</th>
      <th>observaciones</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>55</th>
      <td>20-26781618-3</td>
      <td>2019</td>
      <td>2</td>
      <td>LARRE</td>
      <td>PEDRO ANDRES</td>
      <td>SECR Ciencia, Tecnologia e Innovacion</td>
      <td>204017.27</td>
      <td>34002.88</td>
      <td>238020.15</td>
      <td>baja 28/2/2019</td>
    </tr>
    <tr>
      <th>97</th>
      <td>27-24483014-0</td>
      <td>2019</td>
      <td>4</td>
      <td>ACUÑA</td>
      <td>MARIA SOLEDAD</td>
      <td>Ministerio de Educación e Innovación</td>
      <td>249661.60</td>
      <td>0.00</td>
      <td>249661.60</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>98</th>
      <td>20-13872301-2</td>
      <td>2019</td>
      <td>4</td>
      <td>ASTARLOA</td>
      <td>GABRIEL MARIA</td>
      <td>Procuración General de la Ciudad de Buenos Aires</td>
      <td>249661.60</td>
      <td>0.00</td>
      <td>249661.60</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>99</th>
      <td>20-25641207-2</td>
      <td>2019</td>
      <td>4</td>
      <td>AVOGADRO</td>
      <td>ENRIQUE LUIS</td>
      <td>Ministerio de Cultura</td>
      <td>249661.60</td>
      <td>0.00</td>
      <td>249661.60</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>100</th>
      <td>27-13221055-7</td>
      <td>2019</td>
      <td>4</td>
      <td>BOU PEREZ</td>
      <td>ANA MARIA</td>
      <td>Ministerio de Salud</td>
      <td>249661.60</td>
      <td>0.00</td>
      <td>249661.60</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>360</th>
      <td>20-28908968-4</td>
      <td>2019</td>
      <td>12</td>
      <td>COELHO CHICANO</td>
      <td>CHRISTIAN</td>
      <td>SS Contenidos</td>
      <td>74991.86</td>
      <td>110404.68</td>
      <td>185396.54</td>
      <td>baja al 9/12</td>
    </tr>
    <tr>
      <th>361</th>
      <td>20-28908968-4</td>
      <td>2019</td>
      <td>12</td>
      <td>COELHO CHICANO</td>
      <td>CHRISTIAN</td>
      <td>SECR de Medios</td>
      <td>187539.45</td>
      <td>15628.29</td>
      <td>203167.74</td>
      <td>alta desde el 10/12</td>
    </tr>
    <tr>
      <th>362</th>
      <td>20-24424714-9</td>
      <td>2019</td>
      <td>12</td>
      <td>D'ALESSANDRO</td>
      <td>MARCELO SILVIO</td>
      <td>SECR Justicia y Seguridad</td>
      <td>74991.86</td>
      <td>110404.68</td>
      <td>185396.54</td>
      <td>baja al 9/12</td>
    </tr>
    <tr>
      <th>363</th>
      <td>20-24424714-9</td>
      <td>2019</td>
      <td>12</td>
      <td>D'ALESSANDRO</td>
      <td>MARCELO SILVIO</td>
      <td>SECR Justicia y Seguridad</td>
      <td>187539.45</td>
      <td>15628.29</td>
      <td>203167.74</td>
      <td>alta desde el 10/12</td>
    </tr>
    <tr>
      <th>384</th>
      <td>27-27011181-0</td>
      <td>2019</td>
      <td>12</td>
      <td>FERNANDEZ</td>
      <td>KARINA BEATRIZ</td>
      <td>SECR Asuntos Estratégicos</td>
      <td>187539.45</td>
      <td>15628.29</td>
      <td>203167.74</td>
      <td>alta desde el 10/12</td>
    </tr>
  </tbody>
</table>
<p>170 rows × 10 columns</p>
</div></div></div>
</div>
<p>Ahora veamos los sueldos de febrero de la SECR Ciencia, Tecnologia e Innovacion.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;mes&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;reparticion&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SECR Ciencia, Tecnologia e Innovacion&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cuil</th>
      <th>anio</th>
      <th>mes</th>
      <th>funcionario_apellido</th>
      <th>funcionario_nombre</th>
      <th>reparticion</th>
      <th>asignacion_por_cargo_i</th>
      <th>aguinaldo_ii</th>
      <th>total_salario_bruto_i_+_ii</th>
      <th>observaciones</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>55</th>
      <td>20-26781618-3</td>
      <td>2019</td>
      <td>2</td>
      <td>LARRE</td>
      <td>PEDRO ANDRES</td>
      <td>SECR Ciencia, Tecnologia e Innovacion</td>
      <td>204017.27</td>
      <td>34002.88</td>
      <td>238020.15</td>
      <td>baja 28/2/2019</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
<div class="section" id="boolean-indexing-con-query">
<h3>Boolean indexing con query()<a class="headerlink" href="#boolean-indexing-con-query" title="Permalink to this headline">¶</a></h3>
<p>La sintaxis que se utiliza para hacer Boolean indexing es un poco repetitiva. Noten que filtrar (aún en su expresión más corta sin loc ni especificar filas o columnas) implica ESCRIBIR DOS VECES el nombre del dataset. Para crear un shortcut, Pandas ofrece la función .query()</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_cult</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;reparticion == &quot;Ministerio de Cultura&quot;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>También se puede hacer query sobre múltiples condiciones.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;asignacion_por_cargo_i &gt; 240000 &amp; aguinaldo_ii &gt; 0&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(34, 10)
</pre></div>
</div>
</div>
</div>
<p>Ejercicio: Piensen cómo traducir a la sintaxis de query, estas consultas que ya hicimos:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># df_sem2 = df[df[&#39;mes&#39;] &gt; 6]</span>
<span class="c1"># Solución</span>
<span class="n">df_sem2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;mes &gt; 6&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># df[(df[&#39;mes&#39;] == 2) &amp; (df[&#39;reparticion&#39;] == &#39;SECR Ciencia, Tecnologia e Innovacion&#39;)]</span>
<span class="c1"># Solución</span>
<span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;(mes == 2) &amp; (reparticion == &quot;SECR Ciencia, Tecnologia e Innovacion&quot;)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cuil</th>
      <th>anio</th>
      <th>mes</th>
      <th>funcionario_apellido</th>
      <th>funcionario_nombre</th>
      <th>reparticion</th>
      <th>asignacion_por_cargo_i</th>
      <th>aguinaldo_ii</th>
      <th>total_salario_bruto_i_+_ii</th>
      <th>observaciones</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>55</th>
      <td>20-26781618-3</td>
      <td>2019</td>
      <td>2</td>
      <td>LARRE</td>
      <td>PEDRO ANDRES</td>
      <td>SECR Ciencia, Tecnologia e Innovacion</td>
      <td>204017.27</td>
      <td>34002.88</td>
      <td>238020.15</td>
      <td>baja 28/2/2019</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="fancy-indexing">
<h3>Fancy Indexing<a class="headerlink" href="#fancy-indexing" title="Permalink to this headline">¶</a></h3>
<p>Ahora vamos a quedarnos con un subconjunto de columnas del DataFrame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_view</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,[</span><span class="s1">&#39;anio&#39;</span><span class="p">,</span><span class="s1">&#39;mes&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_view</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(385, 2)
</pre></div>
</div>
</div>
</div>
<p>Existe una forma menos explícita de hacer esta misma operación. Si pasamos una lista al indexing, pandas asume que el tipo de indexing es loc y que el filtro es sobre las columnas y no las filas:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_view</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;anio&#39;</span><span class="p">,</span><span class="s1">&#39;mes&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_view</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(385, 2)
</pre></div>
</div>
</div>
</div>
<p>Fíjense lo que pasa si tratamos de acceder a filas utilizando una lista de nombres, en este caso [0,1].</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Incorrecto</span>
<span class="n">df_view</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">45</span><span class="o">-</span><span class="mi">356438</span><span class="n">c29bef</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># Incorrecto</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">df_view</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">]]</span>

<span class="nn">~/anaconda3/envs/python3/lib/python3.6/site-packages/pandas/core/frame.py</span> in <span class="ni">__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">2804</span>             <span class="k">if</span> <span class="n">is_iterator</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">2805</span>                 <span class="n">key</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">2806</span>             <span class="n">indexer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">loc</span><span class="o">.</span><span class="n">_get_listlike_indexer</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">raise_missing</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="g g-Whitespace">   </span><span class="mi">2807</span> 
<span class="g g-Whitespace">   </span><span class="mi">2808</span>         <span class="c1"># take() does not accept boolean indexers</span>

<span class="nn">~/anaconda3/envs/python3/lib/python3.6/site-packages/pandas/core/indexing.py</span> in <span class="ni">_get_listlike_indexer</span><span class="nt">(self, key, axis, raise_missing)</span>
<span class="g g-Whitespace">   </span><span class="mi">1551</span> 
<span class="g g-Whitespace">   </span><span class="mi">1552</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_validate_read_indexer</span><span class="p">(</span>
<span class="ne">-&gt; </span><span class="mi">1553</span>             <span class="n">keyarr</span><span class="p">,</span> <span class="n">indexer</span><span class="p">,</span> <span class="n">o</span><span class="o">.</span><span class="n">_get_axis_number</span><span class="p">(</span><span class="n">axis</span><span class="p">),</span> <span class="n">raise_missing</span><span class="o">=</span><span class="n">raise_missing</span>
<span class="g g-Whitespace">   </span><span class="mi">1554</span>         <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1555</span>         <span class="k">return</span> <span class="n">keyarr</span><span class="p">,</span> <span class="n">indexer</span>

<span class="nn">~/anaconda3/envs/python3/lib/python3.6/site-packages/pandas/core/indexing.py</span> in <span class="ni">_validate_read_indexer</span><span class="nt">(self, key, indexer, axis, raise_missing)</span>
<span class="g g-Whitespace">   </span><span class="mi">1638</span>             <span class="k">if</span> <span class="n">missing</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">indexer</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1639</span>                 <span class="n">axis_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">_get_axis_name</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1640</span>                 <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;None of [</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">] are in the [</span><span class="si">{</span><span class="n">axis_name</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1641</span> 
<span class="g g-Whitespace">   </span><span class="mi">1642</span>             <span class="c1"># We (temporarily) allow for some missing keys with .loc, except in</span>

<span class="ne">KeyError</span>: &quot;None of [Int64Index([3, 8], dtype=&#39;int64&#39;)] are in the [columns]&quot;
</pre></div>
</div>
</div>
</div>
<p>Nos da un error porque cuando pasamos únicamente una lista al indexing, pandas asume que queremos un set de columnas y si los nombres no existen, da error. La forma correcta de hacerlo es pasar una lista de índices y explicitar que vamos a indizar con loc y que seleccionamos todas las columnas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Correcto</span>
<span class="n">df_view</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">],:]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_view</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cuil</th>
      <th>anio</th>
      <th>mes</th>
      <th>funcionario_apellido</th>
      <th>funcionario_nombre</th>
      <th>reparticion</th>
      <th>asignacion_por_cargo_i</th>
      <th>aguinaldo_ii</th>
      <th>total_salario_bruto_i_+_ii</th>
      <th>observaciones</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>20-13872301-2</td>
      <td>2019</td>
      <td>1</td>
      <td>ASTARLOA</td>
      <td>GABRIEL MARIA</td>
      <td>Procuración General de la Ciudad de Buenos Aires</td>
      <td>224516.62</td>
      <td>0.0</td>
      <td>224516.62</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8</th>
      <td>20-22293873-3</td>
      <td>2019</td>
      <td>1</td>
      <td>MIGUEL</td>
      <td>FELIPE OSCAR</td>
      <td>Jefatura de Gabinete de Ministros</td>
      <td>224516.62</td>
      <td>0.0</td>
      <td>224516.62</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Ejercicio. Volviendo al ejemplo del titanic…</p>
<ol class="simple">
<li><p>¿Cuántos hombres y mujeres sobrevivieron?</p></li>
<li><p>¿Cuántos menores de 18 años había? ¿Cuántos sobrevivieron?</p></li>
<li><p>Seleccionen únicamente las columnas Sex y Survived y almacenenlas en un nuevo DataFrame que se llame df_titanic_subset.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;Sex == &quot;male&quot; &amp; Survived==1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(109, 12)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;Sex == &quot;female&quot; &amp; Survived==1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(233, 12)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;Age &lt;= 18&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(139, 12)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;Age &lt;= 18 &amp; Survived==1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(70, 12)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic_subset</span> <span class="o">=</span> <span class="n">df_titanic</span><span class="p">[[</span><span class="s1">&#39;Sex&#39;</span><span class="p">,</span><span class="s1">&#39;Survived&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic_subset</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Sex</th>
      <th>Survived</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>male</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>female</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>female</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>female</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>male</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
<div class="section" id="funciones-de-agregacion">
<h2>Funciones de Agregación<a class="headerlink" href="#funciones-de-agregacion" title="Permalink to this headline">¶</a></h2>
<p>Utilizando Pandas podemos aplicar funciones a nivel de columna. Algunas funciones predefinidas son la media, el desvío estándar y la sumatoria, el valor máximo y el mínimo.</p>
<p>Algunas de las funciones de agregación más comunes son:</p>
<ul>
    <li>min</li>
    <li>max</li>
    <li>count</li>
    <li>sum</li>
    <li>prod</li>
    <li>mean</li>
    <li>median</li>
    <li>mode</li>
    <li>std</li>
    <li>var</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;mes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>12
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;asignacion_por_cargo_i&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>234234.3679999999
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;asignacion_por_cargo_i&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>35043.16008466176
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;total_salario_bruto_i_+_ii&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>97988834.36000001
</pre></div>
</div>
</div>
</div>
<p>Podemos combinar los filtros que vimos antes con las funciones de agregación para responder preguntas cómo ¿Cuál fue en gasto en asignaciones de funcionarios para la Secretaría de Medios 2019? ¿Y para la de Justicia y Seguridad?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;reparticion&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SECR de Medios&#39;</span><span class="p">][</span><span class="s1">&#39;total_salario_bruto_i_+_ii&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3232402.25
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;reparticion&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SECR Justicia y Seguridad&#39;</span><span class="p">][</span><span class="s1">&#39;total_salario_bruto_i_+_ii&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3029551.7300000004
</pre></div>
</div>
</div>
</div>
<p>Ahora respondamos algunas preguntas: ¿Quién o quiénes del dataset cobran el salario más alto? ¿Y el más bajo?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;total_salario_bruto_i_+_ii&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;total_salario_bruto_i_+_ii&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cuil</th>
      <th>anio</th>
      <th>mes</th>
      <th>funcionario_apellido</th>
      <th>funcionario_nombre</th>
      <th>reparticion</th>
      <th>asignacion_por_cargo_i</th>
      <th>aguinaldo_ii</th>
      <th>total_salario_bruto_i_+_ii</th>
      <th>observaciones</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>374</th>
      <td>20-13872301-2</td>
      <td>2019</td>
      <td>12</td>
      <td>ASTARLOA</td>
      <td>GABRIEL MARIA</td>
      <td>Procuración General de la Ciudad de Buenos Aires</td>
      <td>275089.75</td>
      <td>170855.56</td>
      <td>445945.31</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;total_salario_bruto_i_+_ii&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;total_salario_bruto_i_+_ii&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cuil</th>
      <th>anio</th>
      <th>mes</th>
      <th>funcionario_apellido</th>
      <th>funcionario_nombre</th>
      <th>reparticion</th>
      <th>asignacion_por_cargo_i</th>
      <th>aguinaldo_ii</th>
      <th>total_salario_bruto_i_+_ii</th>
      <th>observaciones</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>344</th>
      <td>27-30744939-6</td>
      <td>2019</td>
      <td>12</td>
      <td>FERRERO</td>
      <td>GENOVEVA</td>
      <td>SECR Administración de Seguridad y Emergencias</td>
      <td>74991.86</td>
      <td>110404.68</td>
      <td>185396.54</td>
      <td>baja al 9/12</td>
    </tr>
    <tr>
      <th>348</th>
      <td>20-22709722-2</td>
      <td>2019</td>
      <td>12</td>
      <td>LOPEZ</td>
      <td>MATIAS</td>
      <td>SECR Desarrollo Ciudadano</td>
      <td>74991.86</td>
      <td>110404.68</td>
      <td>185396.54</td>
      <td>baja al 9/12</td>
    </tr>
    <tr>
      <th>354</th>
      <td>20-20008464-1</td>
      <td>2019</td>
      <td>12</td>
      <td>GIUSTI</td>
      <td>JOSE LUIS</td>
      <td>UPE Transferencia de Funciones y Facultades en...</td>
      <td>74991.86</td>
      <td>110404.68</td>
      <td>185396.54</td>
      <td>baja al 9/12</td>
    </tr>
    <tr>
      <th>358</th>
      <td>20-31164337-2</td>
      <td>2019</td>
      <td>12</td>
      <td>DI BENEDETTO</td>
      <td>FEDERICO</td>
      <td>SS Comunicacion</td>
      <td>74991.86</td>
      <td>110404.68</td>
      <td>185396.54</td>
      <td>baja al 9/12</td>
    </tr>
    <tr>
      <th>360</th>
      <td>20-28908968-4</td>
      <td>2019</td>
      <td>12</td>
      <td>COELHO CHICANO</td>
      <td>CHRISTIAN</td>
      <td>SS Contenidos</td>
      <td>74991.86</td>
      <td>110404.68</td>
      <td>185396.54</td>
      <td>baja al 9/12</td>
    </tr>
    <tr>
      <th>362</th>
      <td>20-24424714-9</td>
      <td>2019</td>
      <td>12</td>
      <td>D'ALESSANDRO</td>
      <td>MARCELO SILVIO</td>
      <td>SECR Justicia y Seguridad</td>
      <td>74991.86</td>
      <td>110404.68</td>
      <td>185396.54</td>
      <td>baja al 9/12</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="otros-analisis-descriptivos">
<h1>Otros análisis descriptivos<a class="headerlink" href="#otros-analisis-descriptivos" title="Permalink to this headline">¶</a></h1>
<p>Pandas viene con algunas funciones built-in para ayudar al análisis descriptivo.</p>
<div class="section" id="para-las-variables-numericas">
<h2>Para las variables numéricas<a class="headerlink" href="#para-las-variables-numericas" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>anio</th>
      <th>mes</th>
      <th>asignacion_por_cargo_i</th>
      <th>aguinaldo_ii</th>
      <th>total_salario_bruto_i_+_ii</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>385.0</td>
      <td>385.000000</td>
      <td>385.000000</td>
      <td>385.000000</td>
      <td>385.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>2019.0</td>
      <td>6.631169</td>
      <td>234234.368000</td>
      <td>20282.084883</td>
      <td>254516.452883</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.0</td>
      <td>3.539077</td>
      <td>35043.160085</td>
      <td>45248.840725</td>
      <td>51434.987870</td>
    </tr>
    <tr>
      <th>min</th>
      <td>2019.0</td>
      <td>1.000000</td>
      <td>74991.860000</td>
      <td>0.000000</td>
      <td>185396.540000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>2019.0</td>
      <td>4.000000</td>
      <td>224516.620000</td>
      <td>0.000000</td>
      <td>224516.620000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>2019.0</td>
      <td>7.000000</td>
      <td>239470.360000</td>
      <td>0.000000</td>
      <td>245811.620000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2019.0</td>
      <td>10.000000</td>
      <td>249972.870000</td>
      <td>0.000000</td>
      <td>263531.980000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>2019.0</td>
      <td>12.000000</td>
      <td>275089.750000</td>
      <td>170855.560000</td>
      <td>445945.310000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="para-las-variables-categoricas">
<h2>Para las variables categóricas<a class="headerlink" href="#para-las-variables-categoricas" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;reparticion&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ministerio de Salud                                               13
SECR Justicia y Seguridad                                         13
SECR de Medios                                                    13
SECR Desarrollo Ciudadano                                         13
SS Contenidos                                                     12
SS Comunicacion                                                   12
Ministerio de Gobierno                                            12
Ministerio de Cultura                                             12
Ente de Turismo Ley Nº 2627                                       12
Sindicatura General de la Ciudad de Buenos Aires                  12
Jefe de Gobierno                                                  12
SECR Integración Social y Urbana                                  12
Ministerio de Desarrollo Urbano y Transporte                      12
SECR Planificación, Evaluación y Coordinación de Gestión          12
Jefatura de Gabinete de Ministros                                 12
Procuración General de la Ciudad de Buenos Aires                  12
SECR Administración de Seguridad y Emergencias                    12
SECR Integración Social Para Personas Mayores                     12
Consejo de los Derechos de Niñas, Niños y Adoles - Presidencia    12
Vicejefatura de Gobierno                                          12
SECR Legal y Técnica                                              12
UPE Transferencia de Funciones y Facultades en Materia de Seg.    12
SECR Cultura Ciudadana y Función Pública                          11
Ministerio de Economía y Finanzas                                 11
SECR Atención y Gestión Ciudadana                                 11
SECR Coordinación General                                         11
Ministerio de Hábitat y Desarrollo Humano                         11
SECR General y de Relaciones Internacionales                      11
SECR Transporte                                                   11
Ministerio de Educación e Innovación                              11
Ministerio de Ambiente y Espacio Público                          11
Ministerio de Espacio Público e Higiene Urbana                     2
Ministerio de Desarrollo Humano y Hábitat                          2
SECR Ciencia, Tecnologia e Innovacion                              2
Ministerio de Educación                                            1
Ministerio de Hacienda y Finanzas                                  1
SECR Atención Ciudadana y Gestión Comunal                          1
SECR General y Relaciones Internacionales                          1
SECR Transporte y Obras Públicas                                   1
SECR Comunicación, Contenidos y Participación Ciudadana            1
SECR Innovación y Transformación Digital                           1
SECR Transformación Cultural                                       1
SECR Desarrollo Urbano                                             1
SECR Asuntos Estratégicos                                          1
SECR Ambiente                                                      1
Ministerio de Desarrollo Económico y Producción                    1
Name: reparticion, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="section" id="ejercicio-volviendo-al-ejemplo-del-titanic">
<h3>Ejercicio: Volviendo al ejemplo del Titanic:<a class="headerlink" href="#ejercicio-volviendo-al-ejemplo-del-titanic" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>¿Cuál era la edad promedio de los pasajeros de cada clase (Pclass)?</p></li>
<li><p>¿Cuál fue la tarifa que pagaron en promedio los hombres? ¿Y las mujeres?</p></li>
<li><p>¿Cuánto pagaron en total los pasajeros de primera clase para subir al Titanic? ¿Y los de tercera?</p></li>
<li><p>¿Cuántos pasajeros había en cada tipo de clase?</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PassengerId</th>
      <th>Survived</th>
      <th>Pclass</th>
      <th>Name</th>
      <th>Sex</th>
      <th>Age</th>
      <th>SibSp</th>
      <th>Parch</th>
      <th>Ticket</th>
      <th>Fare</th>
      <th>Cabin</th>
      <th>Embarked</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>Braund, Mr. Owen Harris</td>
      <td>male</td>
      <td>22.0</td>
      <td>1</td>
      <td>0</td>
      <td>A/5 21171</td>
      <td>7.2500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>
      <td>female</td>
      <td>38.0</td>
      <td>1</td>
      <td>0</td>
      <td>PC 17599</td>
      <td>71.2833</td>
      <td>C85</td>
      <td>C</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>1</td>
      <td>3</td>
      <td>Heikkinen, Miss. Laina</td>
      <td>female</td>
      <td>26.0</td>
      <td>0</td>
      <td>0</td>
      <td>STON/O2. 3101282</td>
      <td>7.9250</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>
      <td>female</td>
      <td>35.0</td>
      <td>1</td>
      <td>0</td>
      <td>113803</td>
      <td>53.1000</td>
      <td>C123</td>
      <td>S</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0</td>
      <td>3</td>
      <td>Allen, Mr. William Henry</td>
      <td>male</td>
      <td>35.0</td>
      <td>0</td>
      <td>0</td>
      <td>373450</td>
      <td>8.0500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;Pclass == 1&#39;</span><span class="p">)[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>38.233440860215055
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;Pclass == 2&#39;</span><span class="p">)[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>29.87763005780347
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;Pclass == 3&#39;</span><span class="p">)[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>25.14061971830986
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;Sex == &quot;male&quot;&#39;</span><span class="p">)[</span><span class="s1">&#39;Fare&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>25.523893414211418
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;Sex == &quot;female&quot;&#39;</span><span class="p">)[</span><span class="s1">&#39;Fare&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>44.47981783439487
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;Pclass == 1&#39;</span><span class="p">)[</span><span class="s1">&#39;Fare&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>18177.4125
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;Pclass == 3&#39;</span><span class="p">)[</span><span class="s1">&#39;Fare&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6714.6951
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_titanic</span><span class="p">[</span><span class="s1">&#39;Pclass&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3    491
1    216
2    184
Name: Pclass, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="ordenar-por-columnas-y-limitar-la-cantidad-de-resultados">
<h2>Ordenar por columnas y limitar la cantidad de resultados<a class="headerlink" href="#ordenar-por-columnas-y-limitar-la-cantidad-de-resultados" title="Permalink to this headline">¶</a></h2>
<p>Otra forma de resolver el problema de encontrar el mayor y el menos es con el método sort_values. Este método puede recibir un valor único (nombre de columna) o una lista (con varias columnas) y un orden asc o desc. Por default el orden es asc.</p>
<p>Si combinamos el ordenamiento con el método head() para limitar la cantidad de resultados, podemos encontrar los N primeros.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Recordemos cómo abrir la documentación de un método</span>
df.sort_values<span class="o">?</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculamos el máximo</span>
<span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;total_salario_bruto_i_+_ii&#39;</span><span class="p">,</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cuil</th>
      <th>anio</th>
      <th>mes</th>
      <th>funcionario_apellido</th>
      <th>funcionario_nombre</th>
      <th>reparticion</th>
      <th>asignacion_por_cargo_i</th>
      <th>aguinaldo_ii</th>
      <th>total_salario_bruto_i_+_ii</th>
      <th>observaciones</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>374</th>
      <td>20-13872301-2</td>
      <td>2019</td>
      <td>12</td>
      <td>ASTARLOA</td>
      <td>GABRIEL MARIA</td>
      <td>Procuración General de la Ciudad de Buenos Aires</td>
      <td>275089.75</td>
      <td>170855.56</td>
      <td>445945.31</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculamos el mínimo</span>
<span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;total_salario_bruto_i_+_ii&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cuil</th>
      <th>anio</th>
      <th>mes</th>
      <th>funcionario_apellido</th>
      <th>funcionario_nombre</th>
      <th>reparticion</th>
      <th>asignacion_por_cargo_i</th>
      <th>aguinaldo_ii</th>
      <th>total_salario_bruto_i_+_ii</th>
      <th>observaciones</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>344</th>
      <td>27-30744939-6</td>
      <td>2019</td>
      <td>12</td>
      <td>FERRERO</td>
      <td>GENOVEVA</td>
      <td>SECR Administración de Seguridad y Emergencias</td>
      <td>74991.86</td>
      <td>110404.68</td>
      <td>185396.54</td>
      <td>baja al 9/12</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="anexo-volviendo-al-tema-de-la-vectorizacion">
<h1>Anexo: volviendo al tema de la vectorización<a class="headerlink" href="#anexo-volviendo-al-tema-de-la-vectorizacion" title="Permalink to this headline">¶</a></h1>
<p>¿Por qué es tan importante trabajar con Pandas y no con funciones escritas por nosotros en Python nativo y que procesen los datos dentro de un for loop?</p>
<p>Por un lado está la comodidad. Hay mucha funcionalidad que ya está desarrollada en Pandas. Existen funciones que resuelven muchos de los problemas clásicos de manipular datos: agrupar, sumarizar, sacar estadísticas, filtrar, etc. Pero además hay una razón de performance.</p>
<p>Veamos una demostración de que vectorizar es más eficiente. Vamos a crear dos listas de 1.000.000 de números aleatorios cada una y vamos a tratar de multiplicar elemento por elemento con pandas y sin pandas:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lista1</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">))</span>
<span class="n">lista2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%time</span>it 
<span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">lista1</span><span class="p">,</span><span class="n">lista2</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>221 ms ± 5.33 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)
</pre></div>
</div>
</div>
</div>
<p>Ahora probemos hacer lo mismo con dos series de Pandas</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">serie1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">lista1</span><span class="p">)</span>
<span class="n">serie2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">lista2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%time</span>it 
<span class="n">resultado</span> <span class="o">=</span> <span class="n">serie1</span> <span class="o">*</span> <span class="n">serie2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.92 ms ± 335 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)
</pre></div>
</div>
</div>
</div>
<p>Conclusión: la operación vectorizada es <strong> más de 70 veces más rápida.</strong></p>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "conda_python3",
            path: "./AnalisisDeDatos/1_Indexing"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'conda_python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Matías Grinberg<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>